(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{687:function(e,r,t){"use strict";t.r(r);var o=t(591),n=t(240),l=t(597),d=t(589),c=t(155),m=t(162),f=(t(26),t(80),t(107)),v=t(68),h={components:{ValidationObserver:f.a,ValidationProvider:f.b},layout:"public",data:function(){return{loading:!1,showPassword:!1,form:{name:"",email:"",password:"",password_confirmation:""}}},methods:{register:function(){var e=this;this.form.password&&this.form.password===this.form.password_confirmation?(this.loading=!0,this.$firebase.register(this.form.email.trim(),this.form.password).then((function(r){e.authenticateApi(r)})).catch(this.error)):this.$notifier.error("As senhas devem ser iguais")},authenticateApi:function(e){var r=this;Object(v.e)(Object(v.d)().currentUser).then((function(e){r.$auth.loginWith("local",{data:{token:e,customer_id:r.$route.query.cliente}}).then((function(e){var t=r.form.name;r.$axios.$patch("/v1/users/"+r.$auth.user.id,{name:t}).then((function(e){r.$auth.setUser(e)}))}))}))},error:function(e){this.$notifier.firebaseError(e),this.loading=!1}}},w=t(31),component=Object(w.a)(h,(function(){var e=this,r=e._self._c;return r(l.a,{staticClass:"mt-3 text-center"},[r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var l=t.validate,f=t.invalid;return[r("p",{staticClass:"mb-6"},[r("User")],1),e._v(" "),e.$route.query.cliente?r(d.a,{on:{submit:function(r){r.preventDefault(),l().then(e.register)}}},[r("h3",{staticClass:"text-h5 font-weight-bold"},[e._v("Seja bem vindo(a)")]),e._v(" "),r("p",{staticClass:"mb-8",staticStyle:{color:"#ababab"}},[e._v("Vamos começar o seu cadastro?")]),e._v(" "),r("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r(m.a,{attrs:{outlined:"",label:"Qual seu nome?","error-messages":o},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})]}}],null,!0)}),e._v(" "),r("validation-provider",{attrs:{name:"e-mail",rules:"required|min:4"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r(m.a,{attrs:{outlined:"",label:"Qual seu email?","error-messages":o},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})]}}],null,!0)}),e._v(" "),r("validation-provider",{attrs:{name:"senha",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r(m.a,{attrs:{outlined:"",type:e.showPassword?"text":"password",label:"Vamos criar uma senha pra você?","error-messages":o},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}},[r(c.a,{attrs:{slot:"append"},on:{click:function(r){e.showPassword=!e.showPassword}},slot:"append"},[e._v("\n            mdi-eye\n          ")])],1)]}}],null,!0)}),e._v(" "),r("validation-provider",{attrs:{name:"confirmação da senha",rules:"required|min:4"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r(m.a,{attrs:{outlined:"",type:e.showPassword?"text":"password",label:"Confirme sua senha","error-messages":o},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}},[r(c.a,{attrs:{slot:"append"},on:{click:function(r){e.showPassword=!e.showPassword}},slot:"append"},[e._v("\n            mdi-eye\n          ")])],1)]}}],null,!0)}),e._v(" "),r("Save",{attrs:{invalid:f,loading:e.loading,label:"Cadastrar"}}),e._v(" "),r("div",{staticClass:"text-center"},[r(n.a,{attrs:{color:"primary",plain:"",to:{path:"/login",query:e.$route.query}}},[e._v("Entre")])],1)],1):r(o.a,{attrs:{color:"error",dark:""}},[e._v("\n      É necessário um código de cadastro para continuar. Por favor, entre em\n      contato com nossa equipe e peça o link de cadastro.\n    ")])]}}])})],1)}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{Save:t(358).default})}}]);