(window.webpackJsonp=window.webpackJsonp||[]).push([[31,3,7,9,12,16,23,25,26,27,28,29],{506:function(t,e,n){"use strict";n.r(e);var o={methods:{close:function(){this.$emit("close")}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(504),v=n(527),f=n(203),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{staticClass:"d-flex align-center justify-space-between"},[o("div",{staticClass:"d-flex align-center"},[o("img",{staticClass:"logo",attrs:{src:n(230)}}),t._v(" "),o("span",{staticClass:"ml-3"},[o("strong",[t._v("Cultivar")]),t._v(" Digital")])]),t._v(" "),o("v-btn",{attrs:{icon:""},on:{click:t.close}},[o("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),o("v-divider")],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VContainer:m.a,VDivider:v.a,VIcon:f.a})},507:function(t,e,n){"use strict";n.r(e);var o={props:{invalid:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},block:{type:Boolean,default:!0},label:{type:String,default:"Salvar"}}},r=n(69),l=n(70),c=n.n(l),d=n(501),m=n(206),v=n(207),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.invalid?n("v-alert",{staticClass:"d-flex justify-center",attrs:{type:"error"}},[t._v("\n    Você deve corrigir os erros acima antes de salvar\n  ")]):t._e(),t._v(" "),n("v-btn",{staticClass:"mb-4 mt-4 font-weight-bold text-none",attrs:{"x-large":"",type:"submit",color:"primary",disabled:t.invalid||t.loading,block:t.block,rounded:""}},[t.loading?n("v-progress-circular",{attrs:{color:"secondary",indeterminate:"",size:"20"}}):n("span",[t._v(t._s(t.label))])],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAlert:d.a,VBtn:m.a,VProgressCircular:v.a})},510:function(t,e,n){"use strict";n.r(e);var o=n(69),r=n(70),l=n.n(r),c=n(207),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("v-progress-circular",{attrs:{indeterminate:""}})],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VProgressCircular:c.a})},512:function(t,e,n){"use strict";n.r(e);var o={props:{color:{type:String,default:null},message:{type:String,default:null}}},r=n(69),l=n(70),c=n.n(l),d=n(501),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center",on:{click:function(e){return t.$emit("click")}}},[n("v-alert",{attrs:{color:t.color}},[t._v(t._s(t.message))])],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAlert:d.a})},516:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c}));n(104),n(4);var o=[{value:"feature",label:"Funcionalidade",icon:"mdi-star"},{value:"bug",label:"Correção",icon:"mdi-bug"},{value:"improvement",label:"Melhoria",icon:"mdi-wrench"}],r=function(t){return o.find((function(e){return e.value===t}))},l=function(t){var e=r(t);return e?e.icon:""},c=function(t){var e=r(t);return e?e.label:""};e.a=o},517:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));n(104),n(4);var o=[{label:"Na fila",value:"backlog"},{label:"Em andamento",value:"in-progress"},{label:"Finalizadas",value:"done"}],r=function(t){var e=o.find((function(e){return e.value===t}));return e?e.label:""};e.a=o},518:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));n(104),n(4);var o=[{value:0,label:"Urgente",color:"error"},{value:1,label:"Alta",color:"warning"},{value:2,label:"Média",color:"info"},{value:3,label:"Baixa",color:"success"}],r=function(t){return o.find((function(p){return p.value===t}))},l=function(t){var e=r(t);return e?e.label:""},c=function(t){var e=r(t);return e?e.color:""};e.a=o},528:function(t,e,n){var content=n(542);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("78b3d525",content,!0,{sourceMap:!1})},529:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(18),n(19);var o=n(3),r=(n(4),n(15),n(13),n(183),n(143)),l=n(516),c=n(517),d=n(518);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{ValidationObserver:r.a,ValidationProvider:r.b},props:{demand:{type:Object,default:function(){return null}}},data:function(){return{demandTypes:l.a,demandStatus:c.a,demandPriorities:d.a,dialog:!1,form:{title:"",body:null,points:null,price:null,type:null,priority:null,progress:0,status:"backlog",paid:!1}}},computed:{company:function(){return this.$store.state.company},estimate:function(){return this.form.points&&this.company?{estimate_in_days:Math.round(this.form.points/this.company.points_per_day),price:this.form.points*this.company.point_price}:null}},created:function(){var t=this;this.demand&&Object.keys(this.form).forEach((function(e){void 0!==t.demand[e]&&null!==t.demand[e]&&(t.form[e]=t.demand[e])}))},methods:{save:function(){var t=this,form=v({},this.form);this.demand?this.$axios.$patch("/v1/demands/"+this.demand._id,form).then((function(e){t.$notifier.success("Atualizado!"),t.$emit("input",e)})):this.$axios.$post("/v1/demands",v(v({},form),{},{company:this.company._id})).then((function(e){t.$notifier.success("Salvo!"),t.$emit("input",e)}))},toggleMonth:function(t){this.active_month===t?this.active_month=null:this.active_month=t},removeItem:function(t,e,n){this.form.data[t-1][e-1].splice(n,1)},close:function(){this.$emit("close")}}},_=n(69),h=n(70),y=n.n(h),x=n(206),k=n(521),C=n(504),$=n(651),w=n(540),O=n(203),V=n(646),j=n(537),P=n(554),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,fullscreen:""}},[n("v-card",{staticClass:"template-form"},[n("DialogHeader",{on:{close:t.close}}),t._v(" "),n("v-container",{staticClass:"pt-6"},[n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate,r=e.invalid;return[n("v-form",{on:{submit:function(e){e.preventDefault(),o().then(t.save)}}},[null===t.form.type?n("div",[n("h3",{staticClass:"mb-6"},[t._v("Que tipo de demanda é essa?")]),t._v(" "),t._l(t.demandTypes,(function(e){return n("v-btn",{key:e.value,staticClass:"mb-6 text-left",attrs:{color:"primary",large:"",block:""},on:{click:function(n){t.form.type=e.value}}},[n("v-icon",{attrs:{left:""}},[t._v(" "+t._s(e.icon))]),t._v("\n              "+t._s(e.label)+"\n            ")],1)}))],2):null===t.form.priority?n("div",[n("h3",{staticClass:"mb-6"},[t._v("Qual a prioridade dessa demanda?")]),t._v(" "),t._l(t.demandPriorities,(function(e){return n("v-btn",{key:e.value,staticClass:"mb-6 text-left",attrs:{color:e.color,large:"",block:""},on:{click:function(n){t.form.priority=e.value}}},[t._v("\n              "+t._s(e.label)+"\n            ")])}))],2):n("div",[n("validation-provider",{attrs:{name:"Título da demanda",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Título da demanda",outlined:"","error-messages":o,focusable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})]}}],null,!0)}),t._v(" "),n("Editor",{attrs:{editable:""},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),t._v(" "),n("validation-provider",{attrs:{name:"Tipo de demanda",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-select",{attrs:{label:"Tipo de demanda",items:t.demandTypes,"item-value":"value","item-text":"label",outlined:"","error-messages":o},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})]}}],null,!0)}),t._v(" "),n("validation-provider",{attrs:{name:"Prioridade",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-select",{attrs:{label:"Prioridade",items:t.demandPriorities,"item-value":"value","item-text":"label",outlined:"","error-messages":o},model:{value:t.form.priority,callback:function(e){t.$set(t.form,"priority",e)},expression:"form.priority"}})]}}],null,!0)}),t._v(" "),"admin"===t.$auth.user.role?n("validation-provider",{attrs:{name:"Status da demanda",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-select",{attrs:{label:"Status da demanda",items:t.demandStatus,"item-value":"value","item-text":"label",outlined:"","error-messages":o},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})]}}],null,!0)}):t._e(),t._v(" "),"admin"===t.$auth.user.role?n("validation-provider",{attrs:{name:"Pontos",rules:"required|min_value:0"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-text-field",{attrs:{label:"Pontos",type:"number",outlined:"","error-messages":o},model:{value:t.form.points,callback:function(e){t.$set(t.form,"points",e)},expression:"form.points"}}),t._v(" "),"admin"===t.$auth.user.role&&t.estimate?n("div",[t._v("\n                "+t._s(t._f("moeda")(t.estimate.price))+" ("+t._s(t.estimate.estimate_in_days)+" dias)\n              ")]):t._e()]}}],null,!0)}):t._e(),t._v(" "),n("div",{staticClass:"text-right"},[n("Save",{attrs:{invalid:r,block:!1,label:"Salvar"}})],1)],1)])]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{DialogHeader:n(506).default,Editor:n(530).default,Save:n(507).default}),y()(component,{VBtn:x.a,VCard:k.a,VContainer:C.a,VDialog:$.a,VForm:w.a,VIcon:O.a,VSelect:V.a,VTextField:j.a,VTextarea:P.a})},530:function(t,e,n){"use strict";n.r(e);var o={props:{editable:{type:Boolean,default:!1},value:{type:Array,default:function(){return[{type:"text",content:""}]}}},data:function(){return{blockTypes:{text:"Texto",image:"Imagem",video:"Vídeo",audio:"Áudio",file:"Arquivo"},blocks:this.value}},computed:{filesURL:function(){return"http://localhost:5000"}},watch:{blocks:function(){this.$emit("input",this.blocks)}},methods:{addText:function(){this.blocks||(this.blocks=[]),this.blocks.push({type:"text",content:""})},calcStats:function(){this.$emit("calc-stats")}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(203),v=n(554),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.blocks,(function(e,o){return["text"===e.type?n("div",{key:"text-"+o,staticClass:"mb-6"},[t.editable?n("TextEditor",{attrs:{"upload-prefix":"post"},on:{input:t.calcStats},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"block.content"}}):n("div",{domProps:{innerHTML:t._s(e.content)}})],1):"image"===e.type?n("div",{key:"image-"+o,staticClass:"mb-6 text-center"},[e.content?n("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.filesURL+e.content.replace("/images","/averages")}}):t._e(),t._v(" "),t.editable&&null!=e.caption&&void 0!==e.caption?n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Legenda da imagem","hide-details":"auto"},model:{value:e.caption,callback:function(n){t.$set(e,"caption",n)},expression:"block.caption"}}):e.caption?n("div",[n("i",[n("small",[t._v(t._s(e.caption))])])]):t._e()],1):"video"===e.type?n("div",{key:"video-"+o,staticClass:"mb-6 text-center"},[n("video",{staticStyle:{"max-width":"100%"},attrs:{src:t.filesURL+e.content,controls:""}},[t._v("\n        Seu navegador não consegue carregar este vídeo.\n      ")]),t._v(" "),t.editable&&null!=e.caption&&void 0!==e.caption?n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Legenda do vídeo","hide-details":"auto"},model:{value:e.caption,callback:function(n){t.$set(e,"caption",n)},expression:"block.caption"}}):e.caption?n("div",[n("i",[n("small",[t._v(t._s(e.caption))])])]):t._e()],1):"audio"===e.type?n("div",{key:"audio-"+o,staticClass:"mb-6 text-center"},[n("audio",{staticStyle:{"max-width":"100%"},attrs:{src:t.filesURL+e.content,controls:""}},[t._v("\n        Seu navegador não consegue carregar este áudio.\n      ")]),t._v(" "),t.editable&&null!=e.caption&&void 0!==e.caption?n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Legenda do áudio","hide-details":"auto"},model:{value:e.caption,callback:function(n){t.$set(e,"caption",n)},expression:"block.caption"}}):e.caption?n("div",[n("i",[n("small",[t._v(t._s(e.caption))])])]):t._e()],1):"file"===e.type?n("div",{key:"file-"+o,staticClass:"mb-6 text-center"},[e.content?n("v-btn",{attrs:{href:t.filesURL+e.content,target:"_blank",color:"primary",block:"",large:""}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-attachment")]),t._v("\n        Baixar Arquivo\n      ")],1):t._e(),t._v(" "),t.editable&&null!=e.caption&&void 0!==e.caption?n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Legenda do arquivo","hide-details":"auto"},model:{value:e.caption,callback:function(n){t.$set(e,"caption",n)},expression:"block.caption"}}):e.caption?n("div",[n("i",[n("small",[t._v(t._s(e.caption))])])]):t._e()],1):t._e(),t._v(" "),t.editable?n("div",{key:"remove-"+o,staticClass:"text-center mb-10 mt-n3"},[n("v-btn",{attrs:{dark:"","x-small":""},on:{click:function(e){return t.blocks.splice(o,1)}}},[n("v-icon",{attrs:{left:"","x-small":""}},[t._v("mdi-delete")]),t._v("\n        Remover "+t._s(t.blockTypes[e.type])+"\n      ")],1),t._v(" "),"text"!==e.type&&null!==e.caption&&void 0!==e.caption?n("v-btn",{attrs:{dark:"","x-small":""},on:{click:function(t){e.caption=null}}},[n("v-icon",{attrs:{left:"","x-small":""}},[t._v("mdi-delete")]),t._v("\n        Remover legenda\n      ")],1):t._e(),t._v(" "),"text"===e.type||null!==e.caption&&void 0!==e.caption?t._e():n("v-btn",{attrs:{dark:"","x-small":""},on:{click:function(t){e.caption=""}}},[n("v-icon",{attrs:{left:"","x-small":""}},[t._v("mdi-closed-caption-outline")]),t._v("\n        Adicionar legenda\n      ")],1)],1):t._e()]})),t._v(" "),t.editable?n("div",{staticClass:"mb-6"},[n("div",[t._v("Adicionar:")]),t._v(" "),n("span",[n("v-btn",{staticClass:"mb-1",attrs:{color:"primary"},on:{click:t.addText}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-format-text")]),t._v(" Texto\n      ")],1)],1),t._v(" "),n("UploadImage",{staticClass:"mb-6",attrs:{prefix:"posts",button:"",icon:"mdi-image",label:"Foto"},on:{input:function(image){return t.blocks.push({type:"image",content:image})}}}),t._v(" "),n("UploadVideo",{staticClass:"mb-6",attrs:{prefix:"posts",button:"",icon:"mdi-youtube",label:"Vídeo"},on:{input:function(video){return t.blocks.push({type:"video",content:video})}}}),t._v(" "),n("UploadAudio",{staticClass:"mb-6",attrs:{prefix:"posts",button:"",icon:"mdi-microphone",label:"Áudio"},on:{input:function(audio){return t.blocks.push({type:"audio",content:audio})}}}),t._v(" "),n("UploadFile",{staticClass:"mb-6",attrs:{prefix:"posts",button:"",icon:"mdi-attachment",label:"Arquivo"},on:{input:function(e){return t.blocks.push({type:"file",content:e})}}})],1):t._e()],2)}),[],!1,null,null,null);e.default=component.exports;c()(component,{TextEditor:n(570).default,UploadImage:n(571).default,UploadVideo:n(572).default,UploadAudio:n(573).default,UploadFile:n(574).default}),c()(component,{VBtn:d.a,VIcon:m.a,VTextarea:v.a})},536:function(t,e,n){"use strict";n.r(e);var o={props:{button:{type:Boolean,default:!1},label:{type:String,default:"Tem certeza disso?"},hint:{type:String,default:"Esta alteração não pode ser desfeita"},icon:{type:String,default:"mdi-delete"},buttonLabel:{type:String,default:"Remover"}},data:function(){return{dialog:!1}},methods:{confirm:function(){this.dialog=!1,this.$emit("confirm")},cancel:function(){this.dialog=!1,this.$emit("cancel")}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(521),v=n(505),f=n(651),_=n(203),h=n(500),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"290"},on:{"click:outside":function(e){t.removeComment=null}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[t.button?n("v-btn",t._g(t._b({attrs:{small:"",dark:""}},"v-btn",r,!1),o),[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.buttonLabel)+"\n    ")],1):n("v-btn",t._g(t._b({attrs:{icon:"","x-small":""}},"v-btn",r,!1),o),[n("v-icon",{attrs:{dark:""}},[t._v(t._s(t.icon))])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("\n      "+t._s(t.label)+"\n    ")]),t._v(" "),n("v-card-text",[t._v(" "+t._s(t.hint)+" ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"error",text:""},on:{click:t.cancel}},[t._v(" Não ")]),t._v(" "),n("v-btn",{attrs:{color:"green",text:""},on:{click:t.confirm}},[t._v(" Sim ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:f.a,VIcon:_.a,VSpacer:h.a})},541:function(t,e,n){"use strict";n(528)},542:function(t,e,n){var o=n(20)(!1);o.push([t.i,'html{scroll-behavior:smooth;scroll-padding-top:56px}section{min-height:calc(100vh - 56px)}@media(max-width:960px){section{min-height:calc(100vh - 56px)}}.tertiary--text{opacity:.4}.logo{width:42px}@media(min-width:960px){.logo{width:64px}}.nav-btn{box-shadow:none!important}@media(max-width:960px){.nav-btn{display:none}}.container{max-width:960px;padding:16px}.v-tab{font-size:12px!important}.v-slide-group__next,.v-slide-group__prev{display:none!important}.ql-toolbar.ql-snow{border-top-left-radius:8px;border-top-right-radius:8px;border-color:hsla(0,0%,100%,.24)!important;background-color:hsla(0,0%,100%,.8)!important}.ql-editor.ql-blank:before{color:hsla(0,0%,100%,.4)!important}.quill-editor .ql-container{border-bottom-left-radius:8px;border-bottom-right-radius:8px;height:auto;border-color:hsla(0,0%,100%,.24)!important;font-family:"Roboto",sans-serif;font-size:16px}.quill-editor .ql-container .ql-editor{min-height:160px!important;max-height:500px!important;overflow-y:auto!important;padding:16px}.quill-editor .ql-container .ql-editor img{max-width:100%;display:block;margin-bottom:16px;margin-top:16px}.quill-editor .ql-container .ql-editor h1,.quill-editor .ql-container .ql-editor h2,.quill-editor .ql-container .ql-editor h3,.quill-editor .ql-container .ql-editor h4,.quill-editor .ql-container .ql-editor h5,.quill-editor .ql-container .ql-editor h6,.quill-editor .ql-container .ql-editor p{margin-bottom:16px!important}.quill-editor.editor-content .ql-container .ql-editor{min-height:0!important;max-height:none!important;padding:0}',""]),t.exports=o},569:function(t,e,n){"use strict";n.r(e);n(11),n(12),n(18),n(19);var o=n(22),r=n(3),l=(n(71),n(4),n(15),n(13),n(183),n(143));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={components:{ValidationObserver:l.a,ValidationProvider:l.b},props:{company:{type:Object,default:function(){return null}}},data:function(){return{form:{name:"",corporate_name:"",cnpj:"",address:"",phone:"",email:"",notes:"",point_price:0,point_unit:"hour",points_per_day:0}}},computed:{baseUrl:function(){return"http://localhost:3000"}},created:function(){var t=this;this.company&&Object.keys(this.form).forEach((function(e){t.company[e]&&(t.form[e]=t.company[e])}))},methods:{save:function(){var t=this,form=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.form);this.company?this.$axios.$patch("/v1/companies/"+this.company._id,form).then((function(e){t.$notifier.success("Atualizado!"),t.$emit("input",e)})):this.$axios.$post("/v1/companies",form).then((function(e){t.$notifier.success("Salvo!"),t.$emit("input",e)}))},toggleMonth:function(t){this.active_month===t?this.active_month=null:this.active_month=t},removeItem:function(t,e,n){this.form.data[t-1][e-1].splice(n,1)},copy:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.clipboard.writeText(t);case 2:e.notify("Copiado!");case 3:case"end":return n.stop()}}),n)})))()},close:function(){this.$emit("close")}}},m=d,v=n(69),f=n(70),_=n.n(f),h=n(206),y=n(521),x=n(504),k=n(651),C=n(540),$=n(203),w=n(537),O=n(554),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,fullscreen:""}},[n("v-card",{staticClass:"template-form"},[n("DialogHeader",{on:{close:t.close}}),t._v(" "),n("v-container",{staticClass:"pt-6"},[n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate,r=e.invalid;return[n("v-form",{on:{submit:function(e){e.preventDefault(),o().then(t.save)}}},[n("validation-provider",{attrs:{name:"Nome da empresa",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-text-field",{attrs:{label:"Nome da empresa",outlined:"","error-messages":o},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})]}}],null,!0)}),t._v(" "),n("v-text-field",{attrs:{label:"Razão social",outlined:""},model:{value:t.form.corporate_name,callback:function(e){t.$set(t.form,"corporate_name",e)},expression:"form.corporate_name"}}),t._v(" "),n("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##.###.###/####-##"],expression:"['##.###.###/####-##']"}],attrs:{label:"CNPJ",outlined:""},model:{value:t.form.cnpj,callback:function(e){t.$set(t.form,"cnpj",e)},expression:"form.cnpj"}}),t._v(" "),n("v-textarea",{attrs:{rows:"2",label:"Endereço",outlined:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),t._v(" "),n("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["(##) ####-####","(##) #####-####"],expression:"['(##) ####-####', '(##) #####-####']"}],attrs:{label:"Telefone de contato",outlined:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}}),t._v(" "),n("v-text-field",{attrs:{label:"Email de contato",outlined:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),n("v-textarea",{attrs:{label:"Observações",outlined:""},model:{value:t.form.notes,callback:function(e){t.$set(t.form,"notes",e)},expression:"form.notes"}}),t._v(" "),"admin"===t.$auth.user.role?n("div",[n("v-text-field",{attrs:{label:"Pontos por dia",outlined:""},model:{value:t.form.points_per_day,callback:function(e){t.$set(t.form,"points_per_day",e)},expression:"form.points_per_day"}}),t._v(" "),n("v-text-field",{attrs:{label:"Preço do ponto",outlined:""},model:{value:t.form.point_price,callback:function(e){t.$set(t.form,"point_price",e)},expression:"form.point_price"}})],1):t._e(),t._v(" "),t.company?n("v-btn",{staticClass:"mb-6",attrs:{small:""},on:{click:function(){return t.copy(t.baseUrl+"/cadastrar?cliente="+t.company._id)}}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-content-copy ")]),t._v("\n            Copiar link de cadastro\n          ")],1):t._e(),t._v(" "),n("div",{staticClass:"text-right"},[n("Save",{attrs:{invalid:r,block:!1,label:"Salvar"}})],1)],1)]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{DialogHeader:n(506).default,Save:n(507).default}),_()(component,{VBtn:h.a,VCard:y.a,VContainer:x.a,VDialog:k.a,VForm:C.a,VIcon:$.a,VTextField:w.a,VTextarea:O.a})},570:function(t,e,n){"use strict";n.r(e);var o={props:{value:{type:String,default:"",required:!0}},data:function(){return{content:"",hasChanged:!1,savedAlert:!1}},created:function(){this.content=this.value},methods:{changed:function(){this.$emit("input",this.content)}}},r=(n(541),n(69)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-3"},[n("quill-editor",{ref:"quillEdit",on:{input:t.changed},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)}),[],!1,null,null,null);e.default=component.exports},571:function(t,e,n){"use strict";n.r(e);n(4),n(74),n(29);var o={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0},button:{type:Boolean,default:!1},label:{type:String,default:"Anexar foto"},icon:{type:String,default:"mdi-image"},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(t){var e=this;this.loading=!0;for(var n=t.target.files||t.dataTransfer.files,i=0;i<n.length;i++){var o=n[i],r=new FormData;r.append("file",o,o.name),this.$axios.$post("/v1/uploads/images?prefix="+this.prefix,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("input",t.url),e.loading=!1})).catch((function(t){e.$notifier.apiError(t),e.loading=!1}))}},upload:function(){this.$refs["upload-image-input-"+this.inputId].click()}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(203),v=n(207),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"upload-image"},[t.button?n("v-btn",{staticClass:"mb-1",attrs:{color:"primary"},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.label)+"\n    ")]],2):n("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):n("v-icon",[t._v(t._s(t.icon))])],1),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-image-input-"+t.inputId,attrs:{accept:"image/*",type:"file"},on:{change:t.uploadFiles}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VIcon:m.a,VProgressCircular:v.a})},572:function(t,e,n){"use strict";n.r(e);n(4),n(74),n(29);var o={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0},button:{type:Boolean,default:!1},label:{type:String,default:"Anexar foto"},icon:{type:String,default:"mdi-video"}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(t){var e=this;this.loading=!0;for(var n=t.target.files||t.dataTransfer.files,i=0;i<n.length;i++){var o=n[i],r=new FormData;r.append("file",o,o.name),this.$axios.$post("/v1/uploads/videos?prefix="+this.prefix,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("input",t.url),e.loading=!1})).catch((function(t){e.$notifier.apiError(t),e.loading=!1}))}},upload:function(){this.$refs["upload-video-input-"+this.inputId].click()}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(203),v=n(207),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"upload-video"},[t.button?n("v-btn",{staticClass:"mb-1",attrs:{color:"primary"},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.label)+"\n    ")]],2):n("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):n("v-icon",[t._v(t._s(t.icon))])],1),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-video-input-"+t.inputId,attrs:{accept:"video/*",type:"file"},on:{change:t.uploadFiles}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VIcon:m.a,VProgressCircular:v.a})},573:function(t,e,n){"use strict";n.r(e);n(4),n(74),n(29);var o={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0},button:{type:Boolean,default:!1},label:{type:String,default:"Anexar áudio"},icon:{type:String,default:"mdi-audio"}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(t){var e=this;this.loading=!0;for(var n=t.target.files||t.dataTransfer.files,i=0;i<n.length;i++){var o=n[i],r=new FormData;r.append("file",o,o.name),this.$axios.$post("/v1/uploads/audios?prefix="+this.prefix,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("input",t.url),e.loading=!1})).catch((function(t){e.$notifier.apiError(t),e.loading=!1}))}},upload:function(){this.$refs["upload-audio-input-"+this.inputId].click()}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(203),v=n(207),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"upload-audio"},[t.button?n("v-btn",{staticClass:"mb-1",attrs:{color:"primary"},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.label)+"\n    ")]],2):n("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):n("v-icon",[t._v(t._s(t.icon))])],1),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-audio-input-"+t.inputId,attrs:{accept:"audio/*",type:"file"},on:{change:t.uploadFiles}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VIcon:m.a,VProgressCircular:v.a})},574:function(t,e,n){"use strict";n.r(e);n(4),n(74),n(29);var o={props:{value:{type:String,default:function(){return null}},prefix:{type:String,default:function(){return null},required:!0},button:{type:Boolean,default:!1},label:{type:String,default:"Anexar arquivo"},icon:{type:String,default:"mdi-attachment"},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{inputId:function(){return Math.random().toString(36).substring(2,15)}},methods:{uploadFiles:function(t){var e=this;this.loading=!0;for(var n=t.target.files||t.dataTransfer.files,i=0;i<n.length;i++){var o=n[i],r=new FormData;r.append("file",o,o.name),this.$axios.$post("/v1/uploads/files?prefix="+this.prefix,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("input",t.url),e.loading=!1})).catch((function(t){e.$notifier.apiError(t),e.loading=!1}))}},upload:function(){this.$refs["upload-file-input-"+this.inputId].click()}}},r=n(69),l=n(70),c=n.n(l),d=n(206),m=n(203),v=n(207),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"upload-file"},[t.button?n("v-btn",{staticClass:"mb-1",attrs:{color:"primary"},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):[n("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]),t._v(" "+t._s(t.label)+"\n    ")]],2):n("v-btn",{attrs:{color:"primary",icon:""},on:{click:t.upload}},[t.loading?n("v-progress-circular",{attrs:{color:"white",indeterminate:"",size:"20"}}):n("v-icon",[t._v(t._s(t.icon))])],1),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"upload-file-input-"+t.inputId,attrs:{type:"file"},on:{change:t.uploadFiles}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VIcon:m.a,VProgressCircular:v.a})},575:function(t,e,n){"use strict";n.r(e);var o=n(516),r=n(517),l=n(518),c={props:{demand:{type:Object,required:!0}},data:function(){return{demandTypes:o.a,demandTypeLabel:o.c,demandTypeIcon:o.b,demandPriorityLabel:l.c,demandPriorityColor:l.b,demandStatus:r.a,demandStatusLabel:r.b,demandPriorities:l.a,edit:!1}},created:function(){},methods:{close:function(){this.$emit("close")},changed:function(t){this.edit=!1,this.$emit("input",t)},remove:function(t){this.$emit("remove",t)}}},d=n(69),m=n(70),v=n.n(m),f=n(206),_=n(521),h=n(535),y=n(504),x=n(651),k=n(527),C=n(203),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,fullscreen:"",persistent:""}},[n("v-card",{staticClass:"template-form"},[n("DialogHeader",{on:{close:t.close}}),t._v(" "),n("v-container",{staticClass:"pt-6"},[n("div",{staticClass:"d-flex justify-space-between align-center mb-6"},[n("div",[t._v("\n          Demanda\n          "),t.demand.status?n("span",[t._v("\n            "+t._s(t.demandStatusLabel(t.demand.status).toLowerCase())+"\n          ")]):t._e()]),t._v(" "),t.demand.type?n("v-chip",{attrs:{outlined:"",small:"",color:"rgba(255, 255, 255, 0.6)"}},[n("v-icon",{attrs:{left:"",small:"",color:t.demandPriorityColor(t.demand.priority)}},[t._v(t._s(t.demandTypeIcon(t.demand.type)))]),t._v("\n          "+t._s(t.demandTypeLabel(t.demand.type))+"\n        ")],1):t._e()],1),t._v(" "),n("h3",{staticClass:"white--text mb-3"},[t._v(t._s(t.demand.title))]),t._v(" "),n("div",{staticClass:"white--text mb-3"},[n("Editor",{attrs:{value:t.demand.body}})],1),t._v(" "),n("div",[t.demand.points&&t.demand.points>0?n("div",{staticClass:"mb-6"},[n("small",[t._v("\n            "+t._s(t.demand.estimate_in_days)+"\n            dias\n            "),n("br"),t._v("\n            "+t._s(t._f("moeda")(t.demand.price))+"\n          ")])]):t._e()]),t._v(" "),t.demand.approved&&"backlog"===t.demand.status?n("v-chip",{attrs:{outlined:"",small:"",color:"success"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-check ")]),t._v("\n        Aprovada\n      ")],1):t._e(),t._v(" "),t.demand.points||"backlog"!==t.demand.status||"feature"!==t.demand.type?t._e():n("v-chip",{attrs:{outlined:"",small:"",color:"rgba(255, 255, 255, 0.6)"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-clock ")]),t._v("\n        Aguardando estimativa\n      ")],1),t._v(" "),n("div",{staticClass:"text-right"},[n("v-divider",{staticClass:"my-3"}),t._v(" "),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("div",[n("Remove",{attrs:{button:"","button-label":"Arquivar"},on:{confirm:t.remove}})],1),t._v(" "),n("div",[n("v-btn",{attrs:{small:""},on:{click:function(e){t.edit=!0}}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pencil")]),t._v(" Editar\n            ")],1),t._v(" "),"admin"===t.$auth.user.role&&"backlog"===t.demand.status?n("v-btn",{attrs:{color:"success",small:""},on:{click:function(e){return t.updateStatus(t.demand,"in-progress")}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-play-circle-outline")]),t._v(" Iniciar\n            ")],1):t._e(),t._v(" "),"admin"===t.$auth.user.role&&"in-progress"===t.demand.status?n("v-btn",{attrs:{color:"success",small:""},on:{click:function(e){return t.updateStatus(t.demand,"done")}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-check-circle-outline")]),t._v(" Concluir\n            ")],1):t._e()],1)])],1)],1),t._v(" "),t.edit?n("DemandForm",{attrs:{demand:t.demand},on:{input:t.changed,close:function(e){t.edit=!1}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{DialogHeader:n(506).default,Editor:n(530).default,Remove:n(536).default,DemandForm:n(529).default}),v()(component,{VBtn:f.a,VCard:_.a,VChip:h.a,VContainer:y.a,VDialog:x.a,VDivider:k.a,VIcon:C.a})},576:function(t,e,n){"use strict";n.r(e);n(13),n(11),n(18),n(19);var o=n(3),r=n(22),l=(n(71),n(4),n(75),n(12),n(15),n(183),n(143));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={components:{ValidationObserver:l.a,ValidationProvider:l.b},data:function(){return{loading:!1,demands:[],form:{title:this.$moment().locale("pt-br").format("MMM-YYYY").toUpperCase(),status:"pending",points:0,price:0,estimate_in_days:0,items:[]}}},computed:{company:function(){return this.$store.state.company},totalPrice:function(){return this.selectedItems.reduce((function(t,e){return t+e.price}),0)},totalPoints:function(){return this.selectedItems.reduce((function(t,e){return t+e.points}),0)},totalEstimateInDays:function(){return this.selectedItems.reduce((function(t,e){return t+e.estimate_in_days}),0)},selectedItems:function(){return this.form.items.filter((function(t){return t.checked})).map((function(t){return{demand:t.demand._id,points:t.points,price:t.price,estimate_in_days:t.estimate_in_days}}))}},created:function(){this.loadDemands()},methods:{loadDemands:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.$get("/v1/demands",{params:{status:"backlog",company:t.company._id,approved:!1}});case 3:t.demands=e.sent,t.demands.forEach((function(e){t.form.items.push({demand:e,price:e.price,points:e.points,estimate_in_days:e.estimate_in_days,checked:!1})})),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},save:function(){var t=this,form=d({},this.form);form.items=this.selectedItems,form.price=this.totalPrice,form.points=this.totalPoints,form.estimate_in_days=this.totalEstimateInDays,this.loading=!0,this.$axios.$post("/v1/proposals",d(d({},form),{},{company:this.company._id})).then((function(e){t.$notifier.success("Proposta gerada!"),t.$emit("change",e)})),this.loading=!1},toggleMonth:function(t){this.active_month===t?this.active_month=null:this.active_month=t},removeItem:function(t,e,n){this.form.data[t-1][e-1].splice(n,1)},close:function(){this.$emit("close")}}},v=n(69),f=n(70),_=n.n(f),h=n(521),y=n(608),x=n(504),k=n(651),C=n(540),$=n(208),w=n(134),O=n(209),V=n(142),j=n(554),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:!0,fullscreen:""}},[n("v-card",{staticClass:"template-form"},[n("DialogHeader",{on:{close:t.close}}),t._v(" "),t.loading?n("div",{staticClass:"pt-6"},[n("Loading")],1):n("div",[n("v-container",[n("h3",[t._v("Gerar proposta comercial")])]),t._v(" "),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.validate,r=e.invalid;return[n("v-form",{on:{submit:function(e){e.preventDefault(),o().then(t.save)}}},[n("div",[n("v-container",[n("validation-provider",{attrs:{name:"Título da proposta",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[n("v-textarea",{attrs:{rows:"1","auto-grow":"",label:"Título da proposta",outlined:"","error-messages":o,focusable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})]}}],null,!0)}),t._v(" "),n("div",[t._v("Selecione as demandas que deseja incluir na proposta:")])],1),t._v(" "),n("v-list",{attrs:{color:"secondary"}},t._l(t.form.items,(function(e){return n("v-list-item",{key:e._id},[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                    "+t._s(e.demand.title)+"\n                  ")]),t._v(" "),e.points>0?n("v-list-item-subtitle",[t._v("\n                    "+t._s(t._f("moeda")(e.price))+" ("+t._s(e.estimate_in_days)+" dias)\n                  ")]):t._e()],1),t._v(" "),n("v-list-item-action",[n("v-checkbox",{attrs:{color:"primary"},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}})],1)],1)})),1),t._v(" "),n("v-container",[n("h3",[t._v("Total: "+t._s(t._f("moeda")(t.totalPrice))+" ("+t._s(t.totalEstimateInDays)+" dias)")]),t._v(" "),t.totalPoints>0?n("div",{staticClass:"text-right"},[n("Save",{attrs:{invalid:r,block:!1,label:"Salvar"}})],1):t._e()])],1)])]}}])})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{DialogHeader:n(506).default,Loading:n(510).default,Save:n(507).default}),_()(component,{VCard:h.a,VCheckbox:y.a,VContainer:x.a,VDialog:k.a,VForm:C.a,VList:$.a,VListItem:w.a,VListItemAction:O.a,VListItemContent:V.a,VListItemSubtitle:V.b,VListItemTitle:V.c,VTextarea:j.a})},577:function(t,e,n){"use strict";n.r(e);var o=n(22),r=(n(71),{props:{proposalId:{type:String,required:!0}},data:function(){return{dialog:!1,proposal:null}},computed:{baseUrl:function(){return"http://localhost:3000"}},created:function(){this.loadProposal()},methods:{loadProposal:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.proposal=null,e.next=3,t.$axios.$get("/v1/proposals/"+t.proposalId+"/info");case 3:t.proposal=e.sent;case 4:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/approve");case 2:t.loadProposal(),t.$emit("change");case 4:case"end":return e.stop()}}),e)})))()},reject:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/reject");case 2:t.loadProposal(),t.$emit("change");case 4:case"end":return e.stop()}}),e)})))()},cancel:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/cancel");case 2:t.loadProposal(),t.$emit("change");case 4:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},copy:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.clipboard.writeText(t);case 2:e.notify("Copiado!");case 3:case"end":return n.stop()}}),n)})))()}}}),l=n(69),c=n(70),d=n.n(c),m=n(206),v=n(521),f=n(535),_=n(504),h=n(651),y=n(203),x=n(600),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{value:!0,fullscreen:""}},[o("v-card",{staticClass:"template-form"},[o("DialogHeader",{on:{close:t.close}}),t._v(" "),o("div",[t.proposal?o("div",[o("v-container",[o("h2",{staticClass:"mb-6"},[t._v("Proposta comercial")]),t._v(" "),t.proposal.canceled?o("Alert",{attrs:{message:"Proposta cancelada",color:"error"}}):t._e(),t._v(" "),o("div",{staticClass:"d-flex justify-space-between align-start"},[o("div",[o("h3",[t._v("\n                "+t._s(t.proposal.title)+"\n              ")]),t._v(" "),o("p",[o("small",[t._v("\n                  "+t._s(t.$moment(t.proposal.createdAt).format("DD/MM/YYYY"))+"\n                ")])])]),t._v(" "),o("div",["approved"===t.proposal.status?o("v-chip",{attrs:{outlined:"",small:"",color:"success"}},[o("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-check ")]),t._v("\n                Aprovada\n              ")],1):t._e(),t._v(" "),"rejected"===t.proposal.status?o("v-chip",{attrs:{outlined:"",small:"",color:"error"}},[o("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-close-thick ")]),t._v("\n                Rejeitada\n              ")],1):t._e(),t._v(" "),"canceled"===t.proposal.status?o("v-chip",{attrs:{outlined:"",small:"",color:"error"}},[o("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-cancel ")]),t._v("\n                Cancelada\n              ")],1):t._e(),t._v(" "),"pending"===t.proposal.status?o("v-chip",{attrs:{small:"",outlined:"",color:"rgba(255, 255, 255, 0.6)"}},[o("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-clock ")]),t._v("\n                Aguardando aprovação\n              ")],1):t._e()],1)]),t._v(" "),o("div",[o("p",[t._v("\n              A proposta abaixo foi personalizada por via de um levantamento\n              de requisitos e análise prévia para a execução das demandas\n              solicitadas.\n            ")])]),t._v(" "),o("v-simple-table",{staticClass:"mb-6",attrs:{light:""},scopedSlots:t._u([{key:"default",fn:function(){return[o("thead",[o("tr",[o("th",{staticClass:"text-left"},[t._v("Demanda")]),t._v(" "),o("th",[t._v("Estimativa")]),t._v(" "),o("th",[t._v("Valor")])])]),t._v(" "),o("tbody",t._l(t.proposal.items,(function(e){return o("tr",{key:e._id},[o("td",[o("small",[t._v(t._s(e.demand.title))])]),t._v(" "),o("td",[o("small",[t._v(t._s(e.estimate_in_days)+" dias")])]),t._v(" "),o("td",[o("small",[t._v(t._s(t._f("moeda")(e.price)))])])])})),0),t._v(" "),o("tfoot",[o("tr",[o("th",[o("strong",[t._v("Total")])]),t._v(" "),o("th",[o("strong",[t._v(t._s(t.proposal.points)+" dias")])]),t._v(" "),o("th",[o("strong",[t._v(t._s(t._f("moeda")(t.proposal.price)))])])])])]},proxy:!0}],null,!1,2199379404)}),t._v(" "),o("div",{staticClass:"mb-6"},[o("h5",{staticClass:"mb-3"},[t._v("OBSERVAÇÕES:")]),t._v(" "),o("ul",{staticClass:"mb-10"},[o("li",[o("small",[t._v("\n                  Os prazos e valores acima foram estimados baseados em\n                  levantamento de requisitos e análise prévia das\n                  funcionalidades, portanto, esta proposta tem caráter de\n                  escopo fechado e qualquer mudança de escopo invalida esta\n                  proposta.\n                ")])])]),t._v(" "),"approved"===t.proposal.status&&t.proposal.approved_by?o("div",{staticClass:"text-center mb-10"},[o("v-icon",{attrs:{"x-large":""}},[t._v("mdi-check")]),t._v(" "),o("br"),t._v(" "),o("small",[o("strong",[t._v("Aprovada por:")]),t._v(" "),o("br"),t._v("\n                "+t._s(t.proposal.approved_by.name)+"\n              ")])],1):t._e(),t._v(" "),"rejected"===t.proposal.status&&t.proposal.rejected_by?o("div",{staticClass:"text-center mb-10"},[o("v-icon",{attrs:{"x-large":""}},[t._v("mdi-close-thick")]),t._v(" "),o("br"),t._v(" "),o("small",[o("strong",[t._v("Rejeitada por:")]),t._v(" "),o("br"),t._v("\n                "+t._s(t.proposal.rejected_by.name)+"\n              ")])],1):t._e(),t._v(" "),"canceled"===t.proposal.status&&t.proposal.canceled_by?o("div",{staticClass:"text-center mb-10"},[o("v-icon",{attrs:{"x-large":""}},[t._v("mdi-cancel")]),t._v(" "),o("br"),t._v(" "),o("small",[o("strong",[t._v("Cancelada por:")]),t._v(" "),o("br"),t._v("\n                "+t._s(t.proposal.canceled_by.name)+"\n              ")])],1):t._e()]),t._v(" "),"canceled"===t.proposal.status?o("Alert",{attrs:{message:"Proposta cancelada",color:"error"}}):t._e(),t._v(" "),"rejected"===t.proposal.status?o("Alert",{attrs:{message:"Proposta rejeitada",color:"error"}}):t._e(),t._v(" "),"pending"===t.proposal.status?o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"mb-6",attrs:{block:"",large:"",color:"success"},on:{click:t.approve}},[o("v-icon",{attrs:{left:""}},[t._v(" mdi-check ")]),t._v("\n              Aprovar esta proposta\n            ")],1),t._v(" "),o("v-btn",{staticClass:"mb-6",attrs:{small:""},on:{click:function(){return t.copy(t.baseUrl+"/cliente?modulo=propostas&proposta="+t.proposal._id)}}},[o("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-content-copy ")]),t._v("\n              Copiar link da proposta\n            ")],1),t._v(" "),"user"===t.$auth.user.role?o("v-btn",{staticClass:"mb-6",attrs:{small:"",color:"error"},on:{click:t.reject}},[o("v-icon",{attrs:{left:""}},[t._v(" mdi-close-thick ")]),t._v("\n              Rejeitar esta proposta\n            ")],1):t._e(),t._v(" "),"admin"===t.$auth.user.role?o("v-btn",{staticClass:"mb-6",attrs:{small:""},on:{click:t.cancel}},[o("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v("\n              Cancelar esta proposta\n            ")],1):t._e()],1):t._e(),t._v(" "),o("div",{staticClass:"text-center pt-10 mb-10"},[o("div",[o("img",{staticClass:"logo",attrs:{src:n(230)}}),t._v(" "),o("br"),t._v(" "),o("strong",[t._v("Cultivar Digital")])]),t._v(" "),o("div",[o("small",[t._v("Diego M. Rodrigues")])])])],1)],1):o("div",{staticClass:"pt-6"},[o("Loading")],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{DialogHeader:n(506).default,Alert:n(512).default,Loading:n(510).default}),d()(component,{VBtn:m.a,VCard:v.a,VChip:f.a,VContainer:_.a,VDialog:h.a,VIcon:y.a,VSimpleTable:x.a})},601:function(t,e,n){"use strict";n.r(e);var o=n(22),r=(n(104),n(4),n(71),{data:function(){return{companyId:"",addCompany:!1,editCompany:!1,loading:!0}},computed:{company:function(){return this.$store.state.company},companies:function(){return this.$store.state.companies}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("admin"!==t.$auth.user.role){e.next=3;break}return e.next=3,t.loadCompanies();case 3:if("user"!==t.$auth.user.role){e.next=6;break}return e.next=6,t.loadCompany();case 6:case"end":return e.stop()}}),e)})))()},methods:{companyUpdated:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("admin"!==e.$auth.user.role){n.next=4;break}return n.next=3,e.loadCompanies();case 3:e.companyId&&e.companySelected(e.companyId);case 4:"user"===e.$auth.user.role&&e.$store.commit("setCompany",t),e.close();case 6:case"end":return n.stop()}}),n)})))()},loadCompany:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.$get("/v1/companies/"+t.$auth.user.company);case 3:n=e.sent,t.$store.commit("setCompany",n),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},loadCompanies:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.$get("/v1/companies");case 3:(n=e.sent)&&t.$store.commit("setCompanies",n),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},companySelected:function(t){t?this.$store.commit("setCompany",this.companies.find((function(e){return e._id===t}))):this.$store.commit("setCompany",null)},close:function(){this.addCompany=!1,this.editCompany=!1}}}),l=n(69),c=n(70),d=n.n(c),m=n(206),v=n(504),f=n(203),_=n(208),h=n(134),y=n(142),x=n(488),k=n(646),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"py-6",attrs:{fluid:""}},[t.loading?n("div",[n("Loading")],1):n("div",["admin"===t.$auth.user.role&&t.companies?n("div",[n("v-select",{attrs:{"hide-details":"auto",items:t.companies,label:"Cliente","item-value":"_id","item-text":"name",clearable:"",outlined:""},on:{input:t.companySelected},scopedSlots:t._u([{key:"append-outer",fn:function(){return[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{dark:"",small:"",icon:""}},"v-btn",r,!1),o),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,1524802101)},[t._v(" "),n("v-list",[t.company?n("v-list-item",{on:{click:function(e){t.editCompany=!0}}},[n("v-list-item-title",[t._v("Editar")])],1):t._e(),t._v(" "),"admin"===t.$auth.user.role?n("v-list-item",{on:{click:function(e){t.addCompany=!0}}},[n("v-list-item-title",[t._v("Adicionar cliente")])],1):t._e()],1)],1)]},proxy:!0}],null,!1,2313083409),model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}})],1):t._e(),t._v(" "),"user"===t.$auth.user.role&&t.company?n("div",{staticClass:"d-flex justify-space-between align-center"},[n("div",[n("h2",[t._v(t._s(t.company.name))]),t._v(" "),n("div",[n("small",[t._v(t._s(t.$auth.user.name))])])]),t._v(" "),n("div",[n("v-btn",{attrs:{icon:""},on:{click:function(e){t.editCompany=!0}}},[n("v-icon",[t._v("mdi-pencil")])],1)],1)]):t._e(),t._v(" "),t.company?t._e():n("div",{staticClass:"pt-6"},[n("Alert",{attrs:{message:"Selecione a empresa"}})],1),t._v(" "),t.addCompany?n("CompanyForm",{on:{input:t.companyUpdated,close:t.close}}):t._e(),t._v(" "),t.editCompany?n("CompanyForm",{attrs:{company:t.company},on:{input:t.companyUpdated,close:t.close}}):t._e()],1)])}),[],!1,null,null,null);e.default=component.exports;d()(component,{Loading:n(510).default,Alert:n(512).default,CompanyForm:n(569).default}),d()(component,{VBtn:m.a,VContainer:v.a,VIcon:f.a,VList:_.a,VListItem:h.a,VListItemTitle:y.c,VMenu:x.a,VSelect:k.a})},602:function(t,e,n){"use strict";n.r(e);n(13),n(11),n(12),n(18),n(15),n(19);var o=n(3),r=n(22),l=(n(71),n(104),n(4),n(234),n(183),n(516)),c=n(517),d=n(518);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{demandTypes:l.a,demandTypeLabel:l.c,demandTypeIcon:l.b,demandPriorityLabel:d.c,demandPriorityColor:d.b,demandStatus:c.a,demandStatusLabel:c.b,demandPriorities:d.a,demands:null,addDemand:!1,activeDemand:null,showStatus:c.a[0],filters:{}}},computed:{hasDemand:function(){var t=this;return this.demands.find((function(e){return t.showStatus.value===e.status}))},company:function(){return this.$store.state.company}},watch:{company:function(){this.loadDemands()}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadDemands();case 2:case"end":return e.stop()}}),e)})))()},methods:{isActive:function(t){return this.activeDemand&&this.activeDemand._id===t._id},setActiveDemand:function(t){this.activeDemand&&this.activeDemand._id===t._id?this.activeDemand=null:this.activeDemand=t},loadDemands:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.demands=null,n=v(v({},t.filters),{},{company:t.company._id}),e.next=4,t.$axios.$get("/v1/demands",{params:n});case 4:t.demands=e.sent,t.$emit("change");case 6:case"end":return e.stop()}}),e)})))()},updateStatus:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.$axios.$patch("/v1/demands/".concat(t._id),{status:e});case 2:n.loadDemands();case 3:case"end":return o.stop()}}),o)})))()},changed:function(t){var e=this.demands.findIndex((function(e){return e._id===t._id}));this.activeDemand=t,this.demands.splice(e,1,t)},removeDemand:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$delete("/v1/demands/".concat(e.activeDemand._id));case 2:e.activeDemand=null,e.loadDemands();case 4:case"end":return t.stop()}}),t)})))()}}},_=n(69),h=n(70),y=n.n(h),x=n(206),k=n(521),C=n(505),$=n(535),w=n(203),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",color:"success"},on:{click:function(e){t.addDemand=!0}}},[n("v-icon",[t._v("mdi-plus")])],1),t._v(" "),n("div",{staticClass:"d-flex justify-space-around"},t._l(t.demandStatus,(function(e){return n("v-btn",{key:e.value,attrs:{small:"",color:t.showStatus.value===e.value?"primary":"secondary"},on:{click:function(n){t.showStatus=e}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),1),t._v(" "),n("div",{staticClass:"pt-6"},[n("div",[t.demands?n("div",[t.hasDemand?t._e():n("div",[n("Alert",{attrs:{message:"Nenhuma demanda aqui"}})],1),t._v(" "),t._l(t.demands,(function(e){return[e.status===t.showStatus.value?n("v-card",{key:e._id,staticClass:"mb-3",on:{click:function(n){return t.setActiveDemand(e)}}},[n("v-card-text",[n("h3",{staticClass:"white--text mb-3"},[t._v(t._s(e.title))]),t._v(" "),n("div",[e.points&&e.points>0?n("div",{staticClass:"mb-3"},[n("strong",[t._v("\n                    "+t._s(e.estimate_in_days)+"\n                    dias\n                  ")])]):t._e(),t._v(" "),e.type?n("v-chip",{attrs:{outlined:"",small:"",color:"rgba(255, 255, 255, 0.6)"}},[n("v-icon",{attrs:{left:"",small:"",color:t.demandPriorityColor(e.priority)}},[t._v(t._s(t.demandTypeIcon(e.type)))]),t._v("\n                  "+t._s(t.demandTypeLabel(e.type))+"\n                ")],1):t._e(),t._v(" "),e.approved&&"backlog"===e.status?n("v-chip",{attrs:{outlined:"",small:"",color:"success"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-check ")]),t._v("\n                  Aprovada\n                ")],1):t._e(),t._v(" "),e.points||"backlog"!==e.status||"feature"!==e.type?t._e():n("v-chip",{attrs:{outlined:"",small:"",color:"rgba(255, 255, 255, 0.6)"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-clock ")]),t._v("\n                  Aguardando estimativa\n                ")],1)],1)])],1):t._e()]}))],2):n("Loading")],1)]),t._v(" "),t.addDemand?n("DemandForm",{on:{input:function(e){t.loadDemands(),t.addDemand=!1},close:function(e){t.addDemand=!1}}}):t._e(),t._v(" "),t.activeDemand?n("Demand",{attrs:{demand:t.activeDemand},on:{input:t.changed,close:function(e){t.activeDemand=null},remove:t.removeDemand}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{Alert:n(512).default,Loading:n(510).default,DemandForm:n(529).default,Demand:n(575).default}),y()(component,{VBtn:x.a,VCard:k.a,VCardText:C.b,VChip:$.a,VIcon:w.a})},603:function(t,e,n){"use strict";n.r(e);var o=n(22),r=(n(71),n(104),n(4),{props:{company:{type:Object,default:null}},data:function(){return{proposals:null,addProposal:!1,activeProposal:null,editProposal:null,filters:{company:this.company?this.company._id:null}}},computed:{hasProposal:function(){var t=this;return this.proposals.find((function(e){return t.showStatus.value===e.status}))}},watch:{company:function(){this.filters.company=this.company?this.company._id:null,this.loadProposals()}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadProposals();case 2:t.$route.query.proposta&&(t.activeProposal=t.proposals.find((function(e){return e._id===t.$route.query.proposta})));case 3:case"end":return e.stop()}}),e)})))()},methods:{isActive:function(t){return this.activeProposal===t._id},loadProposals:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.proposals=null,e.next=3,t.$axios.$get("/v1/proposals",{params:t.filters});case 3:t.proposals=e.sent,t.$emit("change");case 5:case"end":return e.stop()}}),e)})))()},updateStatus:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.$axios.$patch("/v1/proposals/".concat(t._id),{status:e});case 2:return o.next=4,n.loadProposals();case 4:case"end":return o.stop()}}),o)})))()},estimateInDays:function(t){return Math.ceil(t/this.company.points_per_day)}}}),l=n(69),c=n(70),d=n.n(c),m=n(206),v=n(535),f=n(527),_=n(203),h=n(208),y=n(134),x=n(209),k=n(142),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["admin"===t.$auth.user.role?n("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",color:"success"},on:{click:function(e){t.addProposal=!0}}},[n("v-icon",[t._v("mdi-plus")])],1):t._e(),t._v(" "),n("div",[n("div",[t.proposals?n("div",[t.proposals.length?t._e():n("div",[n("Alert",{attrs:{message:"Nenhuma proposta aqui"}})],1),t._v(" "),t.proposals&&t.proposals.length?n("v-list",[t._l(t.proposals,(function(e,o){return[n("v-list-item",{key:e._id,on:{click:function(n){t.activeProposal=e}}},[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),e.points>0?n("v-list-item-subtitle",[n("strong",[t._v("\n                    "+t._s(t._f("moeda")(e.price))+"\n                    "),n("br"),t._v("\n                    "+t._s(e.estimate_in_days)+"\n                    dias\n                  ")]),t._v(" "),n("br"),t._v("\n                  "+t._s(t.$moment(e.createdAt).format("DD/MM/YYYY"))+"\n                ")]):t._e(),t._v(" "),n("div",{staticClass:"pt-3"},["approved"===e.status?n("v-chip",{attrs:{outlined:"",small:"",color:"success"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-check ")]),t._v("\n                    Aprovada\n                  ")],1):t._e(),t._v(" "),"rejected"===e.status?n("v-chip",{attrs:{outlined:"",small:"",color:"error"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-close-thick ")]),t._v("\n                    Rejeitada\n                  ")],1):t._e(),t._v(" "),"canceled"===e.status?n("v-chip",{attrs:{outlined:"",small:"",color:"error"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-cancel ")]),t._v("\n                    Cancelada\n                  ")],1):t._e(),t._v(" "),"pending"===e.status?n("v-chip",{attrs:{small:"",outlined:"",color:"rgba(255, 255, 255, 0.6)"}},[n("v-icon",{attrs:{left:"",small:""}},[t._v(" mdi-clock ")]),t._v("\n                    Aguardando aprovação\n                  ")],1):t._e()],1)],1),t._v(" "),n("v-list-item-action",[n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),t._v(" "),o<t.proposals.length-1?n("v-divider",{key:"divider"+e._id}):t._e()]}))],2):t._e()],1):n("Loading")],1)]),t._v(" "),t.addProposal?n("ProposalForm",{attrs:{company:t.company},on:{change:function(e){t.loadProposals(),t.addProposal=!1},close:function(e){t.addProposal=!1}}}):t._e(),t._v(" "),t.activeProposal?n("Proposal",{attrs:{"proposal-id":t.activeProposal._id},on:{change:function(e){t.loadProposals(),t.activeProposal=null},close:function(e){t.activeProposal=null}}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{Alert:n(512).default,Loading:n(510).default,ProposalForm:n(576).default,Proposal:n(577).default}),d()(component,{VBtn:m.a,VChip:v.a,VDivider:f.a,VIcon:_.a,VList:h.a,VListItem:y.a,VListItemAction:x.a,VListItemContent:k.a,VListItemSubtitle:k.b,VListItemTitle:k.c})},648:function(t,e,n){"use strict";n.r(e);var o=n(22),r=(n(71),{data:function(){return{tab:this.$route.query.modulo?{demandas:0,propostas:1,faturas:2}[this.$route.query.modulo]:0,summary:null}},computed:{company:function(){return this.$store.state.company}},methods:{loadSummary:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/v1/dashboard/company/summary",{params:{company:t.company._id}});case 2:t.summary=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}}),l=n(69),c=n(70),d=n.n(c),m=n(641),v=n(504),f=n(642),_=n(645),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CompanyHeader"),t._v(" "),t.company?n("div",[t.summary&&(t.summary.pendingProposals||t.summary.pendingDemands)?n("v-container",[t.summary.pendingProposals?n("Alert",{attrs:{message:"Você tem propostas para analisar"},on:{click:function(e){t.tab=1}}}):t._e(),t._v(" "),t.summary.pendingDemands?n("Alert",{attrs:{message:"Você tem demandas para analisar"},on:{click:function(e){t.tab=0}}}):t._e()],1):t._e(),t._v(" "),n("v-tabs",{staticClass:"mb-3",attrs:{"show-arrows":!0,"slider-color":"#fff"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("\n        Demandas\n        "),t.summary&&t.summary.pendingDemands?n("v-badge",{attrs:{content:t.summary.pendingDemands}}):t._e()],1),t._v(" "),n("v-tab",[t._v("\n        Propostas\n        "),t.summary&&t.summary.pendingProposals?n("v-badge",{attrs:{content:t.summary.pendingProposals}}):t._e()],1),t._v(" "),n("v-tab",[t._v("Faturas")])],1),t._v(" "),n("v-container",{staticClass:"mb-16"},[0===t.tab?n("Demands",{attrs:{company:t.company},on:{change:t.loadSummary}}):t._e(),t._v(" "),1===t.tab?n("Proposals",{attrs:{company:t.company},on:{change:t.loadSummary}}):t._e(),t._v(" "),2===t.tab?n("div",[n("Alert",{attrs:{message:"Nenhuma fatura aqui"}})],1):t._e()],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{CompanyHeader:n(601).default,Alert:n(512).default,Demands:n(602).default,Proposals:n(603).default}),d()(component,{VBadge:m.a,VContainer:v.a,VTab:f.a,VTabs:_.a})}}]);