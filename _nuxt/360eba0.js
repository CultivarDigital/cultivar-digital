(window.webpackJsonp=window.webpackJsonp||[]).push([[30,8,16],{600:function(t,e,n){"use strict";n.r(e);var r=n(241),o=n(31),component=Object(o.a)({},(function(){var t=this._self._c;return t("div",{staticClass:"text-center"},[t(r.a,{attrs:{indeterminate:""}})],1)}),[],!1,null,null,null);e.default=component.exports},602:function(t,e,n){"use strict";n.r(e);var r=n(591),o={props:{color:{type:String,default:null},message:{type:String,default:null}}},c=n(31),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center",on:{click:function(e){return t.$emit("click")}}},[e(r.a,{attrs:{color:t.color}},[t._v(t._s(t.message))])],1)}),[],!1,null,null,null);e.default=component.exports},678:function(t,e,n){"use strict";n(7),n(10),n(13),n(14);var r=n(1),o=(n(4),n(34),n(55),n(32),n(8),n(25),n(49),n(612),n(45),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(51),n(11),n(362),n(2)),c=n(87),d=n(0);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],v=["start","end","center"];function y(t,e){return m.reduce((function(n,r){return n[t+Object(d.w)(r)]=e(),n}),{})}var O=function(t){return[].concat(v,["baseline","stretch"]).includes(t)},h=y("align",(function(){return{type:String,default:null,validator:O}})),j=function(t){return[].concat(v,["space-between","space-around"]).includes(t)},w=y("justify",(function(){return{type:String,default:null,validator:j}})),_=function(t){return[].concat(v,["space-between","space-around","stretch"]).includes(t)},D=y("alignContent",(function(){return{type:String,default:null,validator:_}})),S={align:Object.keys(h),justify:Object.keys(w),alignContent:Object.keys(D)},P={align:"align",justify:"justify",alignContent:"align-content"};function x(t,e,n){var r=P[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var C=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:f(f(f({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:O}},h),{},{justify:{type:String,default:null,validator:j}},w),{},{alignContent:{type:String,default:null,validator:_}},D),render:function(t,e){var n=e.props,data=e.data,o=e.children,d="";for(var l in n)d+=String(n[l]);var f=C.get(d);if(!f){var m,v;for(v in f=[],S)S[v].forEach((function(t){var e=n[t],r=x(v,t,e);r&&f.push(r)}));f.push((m={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(m,"align-".concat(n.align),n.align),Object(r.a)(m,"justify-".concat(n.justify),n.justify),Object(r.a)(m,"align-content-".concat(n.alignContent),n.alignContent),m)),C.set(d,f)}return t(n.tag,Object(c.a)(data,{staticClass:"row",class:f}),o)}})},679:function(t,e,n){"use strict";n(7),n(10),n(13),n(14);var r=n(1),o=(n(4),n(21),n(8),n(25),n(49),n(612),n(45),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(51),n(34),n(11),n(86),n(362),n(2)),c=n(87),d=n(0);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],v=m.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),y=m.reduce((function(t,e){return t["offset"+Object(d.w)(e)]={type:[String,Number],default:null},t}),{}),O=m.reduce((function(t,e){return t["order"+Object(d.w)(e)]={type:[String,Number],default:null},t}),{}),h={col:Object.keys(v),offset:Object.keys(y),order:Object.keys(O)};function j(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var w=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},v),{},{offset:{type:[String,Number],default:null}},y),{},{order:{type:[String,Number],default:null}},O),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,d=(e.parent,"");for(var l in n)d+=String(n[l]);var f=w.get(d);if(!f){var m,v;for(v in f=[],h)h[v].forEach((function(t){var e=n[t],r=j(v,t,e);r&&f.push(r)}));var y=f.some((function(t){return t.startsWith("col-")}));f.push((m={col:!y||!n.cols},Object(r.a)(m,"col-".concat(n.cols),n.cols),Object(r.a)(m,"offset-".concat(n.offset),n.offset),Object(r.a)(m,"order-".concat(n.order),n.order),Object(r.a)(m,"align-self-".concat(n.alignSelf),n.alignSelf),m)),w.set(d,f)}return t(n.tag,Object(c.a)(data,{class:f}),o)}})},696:function(t,e,n){"use strict";n.r(e);var r=n(240),o=n(572),c=n(611),d=n(679),l=n(597),f=n(155),m=n(678),v=n(1),y=n(22),O=(n(63),n(85),n(4),n(8),n(7),n(10),n(13),n(11),n(14),n(630)),h=n(631),j=n(632);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(v.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D={layout:"customer",data:function(){return{demandTypes:O.a,demandTypeLabel:O.c,demandTypeIcon:O.b,demandPriorityLabel:j.c,demandPriorityColor:j.b,demandStatus:h.a,demandStatusLabel:h.b,demandPriorities:j.a,demands:null,addDemand:!1,activeDemand:null,showStatus:h.a[0],filters:{}}},computed:{hasDemandsInProgress:function(){return this.demands.find((function(t){return"in-progress"===t.status}))},hasPendingDemands:function(){return this.demands.find((function(t){return"backlog"===t.status&&!t.estimated}))},hasDemand:function(){var t=this;return this.demands.find((function(e){return t.showStatus.value===e.status}))},demand:function(){var t=this;return this.$route.query.demanda&&this.demands?this.demands.find((function(e){return e._id===t.$route.query.demanda})):null}},mounted:function(){this.loadDemands()},methods:{isActive:function(t){return this.activeDemand&&this.activeDemand._id===t._id},loadDemands:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_(_({},t.filters),{},{customer:t.customer._id}),e.next=3,t.$axios.$get("/v1/demands",{params:n});case 3:t.demands=e.sent,t.hasDemandsInProgress&&!t.hasPendingDemands&&(t.showStatus=h.a[1]);case 5:case"end":return e.stop()}}),e)})))()},openDemand:function(t){this.$router.push("/"+this.customer._id+"/demandas?demanda="+t._id)},demandCreated:function(t){var e=this;return Object(y.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.addDemand=!1,n.next=3,e.loadDemands();case 3:e.loadSummary(),e.openDemand(t);case 5:case"end":return n.stop()}}),n)})))()},demandUpdated:function(t){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadDemands();case 2:e.loadSummary();case 3:case"end":return t.stop()}}),t)})))()},removeDemand:function(t){var e=this;return Object(y.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.$delete("/v1/demands/".concat(t._id));case 2:e.closeDemand(),e.loadDemands(),e.loadSummary();case 5:case"end":return n.stop()}}),n)})))()},closeDemand:function(){this.$router.push("/"+this.customer._id+"/demandas")},loadSummary:function(){this.$store.dispatch("loadCustomerSummary")}}},S=n(31),component=Object(S.a)(D,(function(){var t=this,e=t._self._c;return e("div",[t.customer?e(l.a,[e(r.a,{attrs:{fab:"",fixed:"",bottom:"",right:"",color:"success"},on:{click:function(e){t.addDemand=!0}}},[e(f.a,[t._v("mdi-plus")])],1),t._v(" "),e(m.a,{staticClass:"mx-n1",attrs:{"no-gutters":""}},t._l(t.demandStatus,(function(n){return e(d.a,{key:n.value,staticClass:"px-1",attrs:{cols:"4"}},[e(r.a,{staticStyle:{padding:"24px 8px"},attrs:{"x-small":"",block:"",color:t.showStatus.value===n.value?"success":"secondary lighten-1"},on:{click:function(e){t.showStatus=n}}},[t._v("\n          "+t._s(n.label)+"\n        ")])],1)})),1),t._v(" "),e("div",{staticClass:"pt-6"},[e("div",[t.demands?e("div",[t.hasDemand?t._e():e("div",[e("Alert",{attrs:{message:"Nenhuma demanda aqui"}})],1),t._v(" "),t._l(t.demands,(function(n){return[n.status===t.showStatus.value?e(o.a,{key:n._id,staticClass:"mb-3 pa-3",attrs:{elevation:"0"},on:{click:function(e){return t.openDemand(n)}}},[e("h4",{staticClass:"mb-2"},[t._v(t._s(n.title))]),t._v(" "),e("div",[e("div",{staticClass:"mb-3"},[e("DemandEstimate",{attrs:{demand:n}})],1),t._v(" "),e("div",{staticClass:"d-flex justify-space-between align-start"},[e("div",[n.type?e(c.a,{staticClass:"text--secondary",attrs:{outlined:"",small:""}},[t._v("\n                      "+t._s(t.demandTypeLabel(n.type))+"\n                    ")]):t._e(),t._v(" "),n.approved&&"backlog"===n.status?e(c.a,{attrs:{outlined:"",small:"",color:"success"}},[e(f.a,{attrs:{left:"",small:""}},[t._v(" mdi-low ")]),t._v("\n                      Aprovada\n                    ")],1):t._e()],1),t._v(" "),n.priority?e(c.a,{staticClass:"justify-center",staticStyle:{"min-width":"60px"},attrs:{outlined:"",small:"",color:t.demandPriorityColor(n.priority)}},[t._v("\n                    "+t._s(t.demandPriorityLabel(n.priority))+"\n                  ")]):t._e()],1)])]):t._e()]}))],2):e("Loading")],1)]),t._v(" "),t.addDemand?e("DemandForm",{on:{input:t.demandCreated,close:function(e){t.addDemand=!1}}}):t._e(),t._v(" "),t.demand?e("Demand",{attrs:{demand:t.demand},on:{input:t.demandUpdated,close:t.closeDemand,remove:t.removeDemand}}):t._e()],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:n(602).default,DemandEstimate:n(660).default,Loading:n(600).default,DemandForm:n(661).default,Demand:n(610).default})}}]);