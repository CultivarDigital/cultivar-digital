(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{605:function(e,t,r){"use strict";r.r(t);var n=r(240),o=r(572),l=r(568),c=r(596),d=r(155),f=r(588),v={props:{button:{type:Boolean,default:!1},label:{type:String,default:"Tem certeza disso?"},hint:{type:String,default:"Esta alteração não pode ser desfeita"},icon:{type:String,default:"mdi-delete"},buttonLabel:{type:String,default:"Remover"}},data:function(){return{dialog:!1}},methods:{confirm:function(){this.dialog=!1,this.$emit("confirm")},cancel:function(){this.dialog=!1,this.$emit("cancel")}}},m=r(31),component=Object(m.a)(v,(function(){var e=this,t=e._self._c;return t(c.a,{attrs:{"max-width":"290"},on:{"click:outside":function(t){e.removeComment=null}},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[e.button?t(n.a,e._g(e._b({attrs:{small:""}},"v-btn",l,!1),o),[t(d.a,{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v(" "+e._s(e.buttonLabel)+"\n    ")],1):t(n.a,e._g(e._b({attrs:{icon:"",small:""}},"v-btn",l,!1),o),[t(d.a,[e._v(e._s(e.icon))])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),t(o.a,[t(l.c,{staticClass:"text-h5"},[e._v("\n      "+e._s(e.label)+"\n    ")]),e._v(" "),t(l.b,[e._v(" "+e._s(e.hint)+" ")]),e._v(" "),t(l.a,{staticClass:"pa-3"},[t(f.a),e._v(" "),t(n.a,{attrs:{color:"error",large:""},on:{click:e.cancel}},[e._v(" Não ")]),e._v(" "),t(n.a,{attrs:{color:"success",large:""},on:{click:e.confirm}},[e._v(" Sim ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},630:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return c}));r(85),r(4);var n=[{value:"feature",label:"Funcionalidade",icon:"mdi-star"},{value:"bug",label:"Correção",icon:"mdi-bug"},{value:"improvement",label:"Melhoria",icon:"mdi-wrench"}],o=function(e){return n.find((function(t){return t.value===e}))},l=function(e){var t=o(e);return t?t.icon:""},c=function(e){var t=o(e);return t?t.label:""};t.a=n},631:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));r(85),r(4);var n=[{label:"Na fila",value:"backlog"},{label:"Em andamento",value:"in-progress"},{label:"Finalizadas",value:"done"}],o=function(e){var t=n.find((function(t){return t.value===e}));return t?t.label:""};t.a=n},632:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c}));r(85),r(4);var n=[{value:1,label:"Alta",color:"orange"},{value:2,label:"Média",color:"warning"},{value:3,label:"Baixa",color:"success"}],o=function(e){return n.find((function(p){return p.value===e}))},l=function(e){var t=o(e);return t?t.label:""},c=function(e){var t=o(e);return t?t.color:""};t.a=n},661:function(e,t,r){"use strict";r.r(t);var n=r(240),o=r(572),l=r(597),c=r(596),d=r(589),f=r(155),v=r(690),m=r(590),_=r(1),y=(r(4),r(11),r(8),r(7),r(10),r(13),r(14),r(107)),h=r(630),k=r(631),O=r(632);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var $={components:{ValidationObserver:y.a,ValidationProvider:y.b},props:{demand:{type:Object,default:function(){return null}}},data:function(){return{demandTypes:h.a,demandStatus:k.a,demandPriorities:O.a,dialog:!1,form:{title:"",body:null,type:null,priority:null,progress:0,status:"backlog"}}},created:function(){var e=this;this.demand&&Object.keys(this.form).forEach((function(t){void 0!==e.demand[t]&&null!==e.demand[t]&&(e.form[t]=e.demand[t])}))},methods:{save:function(){var e=this,form=x({},this.form);this.demand?this.$axios.$patch("/v1/demands/"+this.demand._id,form).then((function(t){e.$notifier.success("Atualizado!"),e.$emit("input",t)})):this.$axios.$post("/v1/demands",x(x({},form),{},{customer:this.customer._id})).then((function(t){e.$notifier.success("Salvo!"),e.$emit("input",t)}))},close:function(){this.$emit("close")},remove:function(e){this.$emit("remove",e)}}},w=r(31),component=Object(w.a)($,(function(){var e=this,t=e._self._c;return t(c.a,{attrs:{value:!0,fullscreen:"",persistent:""}},[t(o.a,[t("DialogHeader",{on:{close:e.close}}),e._v(" "),t(l.a,{staticClass:"pt-6"},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(r){var o=r.validate,l=r.invalid;return[t(d.a,{on:{submit:function(t){t.preventDefault(),o().then(e.save)}}},[null===e.form.type?t("div",[t("h3",{staticClass:"mb-6"},[e._v("Que tipo de demanda é essa?")]),e._v(" "),e._l(e.demandTypes,(function(r){return t(n.a,{key:r.value,staticClass:"mb-6 text-left",attrs:{color:"primary",large:"",block:""},on:{click:function(t){e.form.type=r.value}}},[t(f.a,{attrs:{left:""}},[e._v(" "+e._s(r.icon))]),e._v("\n              "+e._s(r.label)+"\n            ")],1)}))],2):null===e.form.priority?t("div",[t("h3",{staticClass:"mb-6"},[e._v("Qual a prioridade dessa demanda?")]),e._v(" "),e._l(e.demandPriorities,(function(r){return t(n.a,{key:r.value,staticClass:"mb-6 text-left",attrs:{color:r.color,large:"",block:""},on:{click:function(t){e.form.priority=r.value}}},[e._v("\n              "+e._s(r.label)+"\n            ")])}))],2):t("div",[t("validation-provider",{attrs:{name:"Título da demanda",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(m.a,{attrs:{rows:"1","auto-grow":"",label:"Título da demanda",outlined:"","error-messages":n,focusable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})]}}],null,!0)}),e._v(" "),t("Editor",{attrs:{editable:""},model:{value:e.form.body,callback:function(t){e.$set(e.form,"body",t)},expression:"form.body"}}),e._v(" "),t("validation-provider",{attrs:{name:"Tipo de demanda",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(v.a,{attrs:{label:"Tipo de demanda",items:e.demandTypes,"item-value":"value","item-text":"label",outlined:"","error-messages":n},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})]}}],null,!0)}),e._v(" "),t("validation-provider",{attrs:{name:"Prioridade",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(v.a,{attrs:{label:"Prioridade",items:e.demandPriorities,"item-value":"value","item-text":"label",outlined:"","error-messages":n},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}})]}}],null,!0)}),e._v(" "),"provider"===e.$auth.user.role?t("validation-provider",{attrs:{name:"Status da demanda",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t(v.a,{attrs:{label:"Status da demanda",items:e.demandStatus,"item-value":"value","item-text":"label",outlined:"","error-messages":n},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})]}}],null,!0)}):e._e(),e._v(" "),t("div",{staticClass:"d-flex justify-space-between align-center"},["provider"===e.$auth.user.role&&e.demand&&!e.demand.approved?t("Remove",{on:{confirm:e.remove}}):e._e(),e._v(" "),t("Save",{attrs:{invalid:l,label:"Salvar demanda",block:!1}})],1)],1)])]}}])})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{DialogHeader:r(358).default,Editor:r(604).default,Remove:r(605).default,Save:r(359).default})}}]);