(window.webpackJsonp=window.webpackJsonp||[]).push([[17,7,14],{602:function(t,e,r){"use strict";r.r(e);var o=r(238),n=r(31),component=Object(n.a)({},(function(){var t=this._self._c;return t("div",{staticClass:"text-center"},[t(o.a,{attrs:{indeterminate:""}})],1)}),[],!1,null,null,null);e.default=component.exports},604:function(t,e,r){"use strict";r.r(e);var o=r(592),n={props:{color:{type:String,default:null},message:{type:String,default:null}}},l=r(31),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center",on:{click:function(e){return t.$emit("click")}}},[e(o.a,{attrs:{color:t.color}},[t._v(t._s(t.message))])],1)}),[],!1,null,null,null);e.default=component.exports},669:function(t,e,r){"use strict";r.r(e);var o=r(242),n=r(572),l=r(609),c=r(598),d=r(597),v=r(154),_=r(693),m=(r(26),r(22)),f=(r(63),{props:{proposalId:{type:String,required:!0}},data:function(){return{dialog:!1,proposal:null,previewDemand:null}},computed:{baseUrl:function(){return"https://cultivardigital.com.br"}},created:function(){this.loadProposal()},methods:{loadProposal:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.proposal=null,e.next=3,t.$axios.$get("/v1/proposals/"+t.proposalId+"/info");case 3:t.proposal=e.sent;case 4:case"end":return e.stop()}}),e)})))()},approve:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/approve");case 2:r=e.sent,t.loadProposal(),t.$emit("input",r);case 5:case"end":return e.stop()}}),e)})))()},reject:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/reject");case 2:r=e.sent,t.loadProposal(),t.$emit("input",r);case 5:case"end":return e.stop()}}),e)})))()},cancel:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$patch("/v1/proposals/"+t.proposalId+"/cancel");case 2:r=e.sent,t.loadProposal(),t.$emit("input",r);case 5:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},copy:function(t){var e=this;return Object(m.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,navigator.clipboard.writeText(t);case 2:e.notify("Copiado!");case 3:case"end":return r.stop()}}),r)})))()}}}),h=r(31),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{value:!0,fullscreen:"",persistent:""}},[e(n.a,{staticClass:"template-form"},[e("DialogHeader",{on:{close:t.close}}),t._v(" "),e("div",[t.proposal?e("div",[e(c.a,[e("h2",{staticClass:"mb-6"},[t._v("Proposta comercial")]),t._v(" "),t.proposal.canceled?e("Alert",{attrs:{message:"Proposta cancelada",color:"error"}}):t._e(),t._v(" "),e("div",{staticClass:"d-flex justify-space-between align-start"},[e("div",[e("h3",[t._v("\n                "+t._s(t.proposal.title)+"\n              ")]),t._v(" "),t.proposal.startAt&&t.proposal.deadline?e("p",[e("small",[t._v("\n                  "+t._s(t.$moment(t.proposal.startAt).format("DD/MM/YYYY"))+" - "+t._s(t.$moment(t.proposal.deadline).format("DD/MM/YYYY"))+"\n                ")])]):e("p",[e("small",[t._v("\n                  "+t._s(t.$moment(t.proposal.createdAt).format("DD/MM/YYYY"))+"\n                ")])])]),t._v(" "),e("div",["approved"===t.proposal.status?e(l.a,{attrs:{outlined:"",small:"",color:"success"}},[e(v.a,{attrs:{left:"",small:""}},[t._v(" mdi-check ")]),t._v("\n                Aprovada\n              ")],1):t._e(),t._v(" "),"rejected"===t.proposal.status?e(l.a,{attrs:{outlined:"",small:"",color:"error"}},[e(v.a,{attrs:{left:"",small:""}},[t._v(" mdi-close-thick ")]),t._v("\n                Rejeitada\n              ")],1):t._e(),t._v(" "),"canceled"===t.proposal.status?e(l.a,{attrs:{outlined:"",small:"",color:"error"}},[e(v.a,{attrs:{left:"",small:""}},[t._v(" mdi-cancel ")]),t._v("\n                Cancelada\n              ")],1):t._e(),t._v(" "),"pending"===t.proposal.status?e(l.a,{attrs:{small:"",outlined:""}},[e(v.a,{attrs:{left:"",small:""}},[t._v(" mdi-clock ")]),t._v("\n                Aguardando aprovação\n              ")],1):t._e()],1)]),t._v(" "),e("div",[e("p",[t._v("\n              A proposta abaixo foi personalizada por via de um levantamento\n              de requisitos e análise prévia para a execução das demandas\n              solicitadas.\n            ")])]),t._v(" "),e(_.a,{staticClass:"mb-6",attrs:{light:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Demanda")]),t._v(" "),e("th",[t._v("Estimativa")]),t._v(" "),e("th",[t._v("Valor")]),t._v(" "),e("th")])]),t._v(" "),e("tbody",t._l(t.proposal.items,(function(r){return e("tr",{key:r._id},[e("td",[e("small",[t._v(t._s(r.demand.title))])]),t._v(" "),e("td",[e("small",[t._v(t._s(t.$utils.plural(r.estimate_in_days,"dia")))])]),t._v(" "),e("td",[e("small",[t._v(t._s(t._f("moeda")(r.price)))])]),t._v(" "),e("td",[e(o.a,{attrs:{"x-small":"",icon:""},on:{click:function(e){t.previewDemand=r.demand}}},[e(v.a,[t._v("mdi-eye")])],1)],1)])})),0),t._v(" "),e("tfoot",[e("tr",[e("th",[e("strong",[t._v("Total")])]),t._v(" "),e("th",[e("strong",[t._v(t._s(t.$utils.plural(t.proposal.estimate_in_days,"dia")))])]),t._v(" "),e("th",[e("strong",[t._v(t._s(t._f("moeda")(t.proposal.price)))])]),t._v(" "),e("th")])])]},proxy:!0}],null,!1,2509273074)}),t._v(" "),e("div",{staticClass:"mb-6"},[e("h5",{staticClass:"mb-3"},[t._v("OBSERVAÇÕES:")]),t._v(" "),e("ul",{staticClass:"mb-10"},[e("li",[e("small",[t._v("\n                  Os prazos e valores acima foram estimados baseados em\n                  levantamento de requisitos e análise prévia das\n                  funcionalidades, portanto, esta proposta tem caráter de\n                  escopo fechado e qualquer mudança de escopo invalida esta\n                  proposta.\n                ")])])]),t._v(" "),"approved"===t.proposal.status&&t.proposal.approved_by?e("div",{staticClass:"text-center mb-10"},[e(v.a,{attrs:{"x-large":""}},[t._v("mdi-check")]),t._v(" "),e("br"),t._v(" "),e("small",[e("strong",[t._v("Aprovada por:")]),t._v(" "),e("br"),t._v("\n                "+t._s(t.proposal.approved_by.name)+"\n              ")])],1):t._e(),t._v(" "),"rejected"===t.proposal.status&&t.proposal.rejected_by?e("div",{staticClass:"text-center mb-10"},[e(v.a,{attrs:{"x-large":""}},[t._v("mdi-close-thick")]),t._v(" "),e("br"),t._v(" "),e("small",[e("strong",[t._v("Rejeitada por:")]),t._v(" "),e("br"),t._v("\n                "+t._s(t.proposal.rejected_by.name)+"\n              ")])],1):t._e(),t._v(" "),"canceled"===t.proposal.status&&t.proposal.canceled_by?e("div",{staticClass:"text-center mb-10"},[e(v.a,{attrs:{"x-large":""}},[t._v("mdi-cancel")]),t._v(" "),e("br"),t._v(" "),e("small",[e("strong",[t._v("Cancelada por:")]),t._v(" "),e("br"),t._v("\n                "+t._s(t.proposal.canceled_by.name)+"\n              ")])],1):t._e()]),t._v(" "),"canceled"===t.proposal.status?e("Alert",{attrs:{message:"Proposta cancelada",color:"error"}}):t._e(),t._v(" "),"rejected"===t.proposal.status?e("Alert",{attrs:{message:"Proposta rejeitada",color:"error"}}):t._e(),t._v(" "),"pending"===t.proposal.status?e("div",{staticClass:"text-center"},[e("div",{staticClass:"mb-6"},[e("ProposalApprove",{attrs:{proposal:t.proposal},on:{confirm:t.approve}})],1),t._v(" "),e(o.a,{staticClass:"mb-6",attrs:{small:""},on:{click:function(){return t.copy(t.baseUrl+"/atendimento?modulo=propostas&proposta="+t.proposal._id)}}},[e(v.a,{attrs:{left:"",small:""}},[t._v(" mdi-content-copy ")]),t._v("\n              Copiar link da proposta\n            ")],1),t._v(" "),"user"===t.$auth.user.role?e(o.a,{staticClass:"mb-6",attrs:{small:"",color:"error"},on:{click:t.reject}},[e(v.a,{attrs:{left:""}},[t._v(" mdi-close-thick ")]),t._v("\n              Rejeitar esta proposta\n            ")],1):t._e(),t._v(" "),"admin"===t.$auth.user.role?e(o.a,{staticClass:"mb-6",attrs:{small:""},on:{click:t.cancel}},[e(v.a,{attrs:{left:""}},[t._v(" mdi-close ")]),t._v("\n              Cancelar esta proposta\n            ")],1):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"text-center pt-10 mb-10"},[e("div",[e("img",{staticClass:"logo",attrs:{src:r(364)}}),t._v(" "),e("br"),t._v(" "),e("strong",[t._v("Cultivar Digital")])]),t._v(" "),e("div",[e("small",[t._v("Diego M. Rodrigues")])])])],1)],1):e("div",{staticClass:"pt-6"},[e("Loading")],1)]),t._v(" "),t.previewDemand?e("Demand",{attrs:{demand:t.previewDemand,preview:""},on:{close:function(e){t.previewDemand=null}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DialogHeader:r(359).default,Alert:r(604).default,ProposalApprove:r(670).default,Loading:r(602).default,Demand:r(657).default})}}]);